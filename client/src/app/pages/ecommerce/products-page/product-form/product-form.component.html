<div class="card">
    <div class="card-header">
      <div class="utils__title"><strong>{{id ? 'Edit' : 'New'}} Product</strong></div>
    </div>
    <div class="card-body">
      <form [formGroup]="form" nz-form nzLayout="vertical" (ngSubmit)="onSubmit()">
        <h4 class="text-black mb-3"><strong>Main Parameters</strong></h4>
        <div class="row">
          <div class="col-lg-8">
            <div class="row">
              <div class="col-lg-6">
                <nz-form-item>
                  <nz-form-label nzFor="title" nzRequired>Title</nz-form-label>
                  <nz-form-control>
                    <input nz-input formControlName="title" name="title" type="text" id="title" placeholder="Product title">
                  </nz-form-control>
                </nz-form-item >
              </div>
              <div class="col-lg-6">
                <nz-form-item>
                  <nz-form-label nzFor="sku" nzRequired>SKU</nz-form-label>
                  <nz-form-control>
                    <input nz-input formControlName="sku" name="sku" type="text" id="sku" placeholder="Product SKU">
                  </nz-form-control>
                </nz-form-item >
              </div>
              <div class="col-lg-12">
                <nz-form-item>
                  <nz-form-label nzFor="category" nzRequired>Product category</nz-form-label>
                  <nz-form-control>
                    <nz-select
                      id="category"
                      nzShowSearch
                      nzAllowClear
                      formControlName="category"
                      nzPlaceHolder="Select a category"
                    >
                      <nz-option [nzLabel]="category.name" [nzValue]="category._id" *ngFor="let category of categories$ | async"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzFor="shortDescr">Short Description</nz-form-label>
                  <nz-form-control>
                    <textarea rows="3" nz-input id="shortDescr" placeholder="Short Description" formControlName="shortDescription"></textarea>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzFor="fullDescr">Full Description</nz-form-label>
                  <nz-form-control>
                    <textarea rows="3" nz-input id="fullDescr" placeholder="Full Description" formControlName="fullDescription"></textarea>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzFor="price">Price</nz-form-label>
                  <nz-form-control>
                    <nz-input-number
                      class="w-100"
                      name="price"
                      id="price"
                      formControlName="price"
                      [nzMin]="0.1"
                      [nzStep]="0.1"
                      [nzFormatter]="formatterDollar"
                      [nzParser]="parserDollar"
                    ></nz-input-number>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <h4 class="text-black mt-2 mb-3">
              <strong>Attributes</strong>
            </h4>
            <div class="row">
              <div class="col-lg-6">
                <nz-form-item>
                  <nz-form-label nzFor="colors">Colors</nz-form-label>
                  <nz-form-control>
                    <nz-select id="colors" formControlName="color" nzAllowClear nzPlaceHolder="Choose product color">
                      <nz-option nzValue="white" nzLabel="White"></nz-option>
                      <nz-option nzValue="black" nzLabel="Black"></nz-option>
                      <nz-option nzValue="grey" nzLabel="Grey"></nz-option>
                      <nz-option nzValue="blue" nzLabel="Blue"></nz-option>
                      <nz-option nzValue="red" nzLabel="Red"></nz-option>
                      <nz-option nzValue="green" nzLabel="Green"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div class="col-lg-6">
                <nz-form-item>
                  <nz-form-label nzFor="size">Size</nz-form-label>
                  <nz-form-control>
                    <nz-select id="size" formControlName="size" nzAllowClear nzPlaceHolder="Choose product size">
                      <nz-option nzValue="xs" nzLabel="Extra small"></nz-option>
                      <nz-option nzValue="s" nzLabel="Small"></nz-option>
                      <nz-option nzValue="m" nzLabel="Middle"></nz-option>
                      <nz-option nzValue="l" nzLabel="Large"></nz-option>
                      <nz-option nzValue="xl" nzLabel="Extra large"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <nz-upload
              class="height-300 mb-3 d-block"
              nzType="drag"
              [nzMultiple]="true"
              [nzLimit]="2"
              nzAction="https://jsonplaceholder.typicode.com/posts/"
            >
              <p class="ant-upload-drag-icon">
                <i nz-icon type="inbox"></i>
              </p>
              <p class="ant-upload-text">Click or drag file to this area to upload</p>
              <p class="ant-upload-hint">Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p>
            </nz-upload>
            <nz-upload
              nzAction="https://jsonplaceholder.typicode.com/posts/">
              <button nz-button>
                <i nz-icon type="upload"></i><span>Click to Upload</span>
              </button>
            </nz-upload>
          </div>
          <div class="col-lg-12">
            <div class="form-actions">
              <button nz-button nzType="primary" type="submit" class="mr-2" [disabled]="form.invalid">Save Product</button>
              <button nz-button [routerLink]="['/ecommerce/products']">Cancel</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
